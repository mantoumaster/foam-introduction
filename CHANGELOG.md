# 📚 Foam 更新日志（Changelog）

本文件用于记录 Foam 项目的每一次对外版本变更，方便回溯功能演进与问题修复记录。

---

## v1.0（2025-11-17）
### 新增
- ✨ Dashboard 仪表盘搭建，支持基础统计信息展示
- ✨ 完成通知模板中心、服务器配置等核心管理页面
- 🧩 完善全局毛玻璃 + 暗色主题视觉体系

> **现代化 · 高颜值 · 全功能** 的 Emby 多用户管理系统
> 支持用户管理、续费、卡密、请求中心、播放统计、公告通知等完整功能模块。

## v1.1 (2025-11-22)
### 新增
- 媒体库根据发行商筛选
- 修改头像
- 卡密支持卡片和列表切换

### 优化
- 仪表盘显示用户过期时间
- 登录界面卡密激活必填项提示
- 主机地址手机端无法编辑
- 同步Emby用户不会重置Emby密码
- 多emby做到完全数据隔离
- 添加黑金等多种暗黑主题

## v1.2 (2025-11-24)
### 新增 🆕
- 📝 新增用户求片记录页面

### 优化 🛠️
- 🐛 修复多 Emby 服务器卡密验证问题
- 🔗 用户信息中复制服务器地址时，会自动拆分地址和端口号
- 📱 修复手机端无法续费卡密的问题
- 📊 修复 Emby 播放记录不同步的问题

## v1.3（2025-11-25）

### 新增 🆕
- 🔐 支持用户修改登录密码

### 优化 🛠️
- 📋 修复服务器地址无法复制的问题
- 📱 优化播放汇总页面在手机端的样式表现

## v1.4（2025-11-27）

### 新增 🆕
- 🎯 求片自动关联MoviePilot订阅
- 🤝 添加企业微信通知
- ⏳ 支持批量为用户延长期限
- 👤 管理员后台支持直接为用户创建账号

### 优化 🛠️
- 🔁 在任何页面刷新会返回总览页面

## v1.5（2025-12-01）

### 新增 🆕
- 🧩 全局通知模板自定义
- 📺 「正在播放」页面
- 🖼️ 支持 Emby 封面模板创建

### 优化 🛠️
- 🔐 修复修改密码未提示错误的问题
- ✨ 修复弹窗闪烁问题，交互更顺滑

## v1.6（2025-12-03）

### 新增 🆕
- ✨ 拒绝求片功能
- ✨ 添加个性化的入库海报

### 优化 🛠️
- ✨ 求片管理页面，求片记录页面样式优化

## v1.7（2025-12-05）

### 新增 🆕
- 卡密添加卡密搜索
- 仪表盘统计新增集数统计
- 求片添加是否需要审核功能

### 优化 🛠️
- 禁用服务器无法生成卡密
- 钉钉和企业微信登录和登录失败发送消息内容添加设备和客户端
- 正在播放页面样式优化
- 重新设计的统计图表
- 修复播放记录获取无法入库的问题
- 登录动画优化
- 公告如果配置了刷新页面会弹出公告
- 求片订阅MoviePilot无法订阅剧集的问题

## v1.8（2025-12-06）

### 新增 🆕
- 机器人创建用户，卡密，批量延期用户，修改用户信息，启用用户，停用用户，搜索资源
- 添加屏蔽播放设备功能
- 新增emby服务器之间同步用户功能

### 优化 🛠️
- 通知渠道页面样式优化
- 用户同步多服务器用户名重复问题
- 求片管理页面列表样式优化
- 求片记录页面样式优化

## v1.9（2025-12-11）

### 新增 🆕
- 版本信息
- 添加卡密一键复制功能
- 添加赛博朋克主题色
- 添加企业微信 创建用户 批量延期 用户统计 生成卡密 搜索TMDB 搜索资源库

### 优化 🛠️
- 登录动画
- 批量延期支持服务器选择

## v2.0（2025-12-17）

### 新增 🆕
- 企业微信动态可信ip
- 添加求片中心豆瓣热门电影剧集
- 添加限定主题：疯狂动物城 阿凡达：火与烬
- 同时播放自动禁用用户配置
- 同时播放是否发送通知配置
- 添加同时播放记录页面
- 添加根据用户观影记录生成求片中心推荐热门

### 优化 🛠️
- 修改禁用启用用户缓存未刷新问题
- 添加卡密激活支持自定义密码
- 修复众多ui bug

## v2.1（2025-12-19）

### 新增 🆕
- 发送排行榜路径添加配置
- 添加播放排行榜
- 新增下拉弹出播放排行榜
- 邀请码注册功能
- 新增光盘圆碟媒体库封面上传
- 自定义播放暂停海报

### 优化 🛠️
- 系统配置页面手机端布局优化
- 管理员创建用户后 复制用户信息 添加服务器信息复制
- 优化全局样式
- 优化tg通知

## v2.2（2025-12-25）

### 新增 🆕
- 豆瓣支持求片
- 添加芭蕾杀姬主题
- 添加用户管理注册渠道
- 添加注册记录
- 添加续费记录
- 添加tg机器人积分系统
- 添加tg 21点游戏
- 添加tg筛子游戏

### 优化 🛠️
- 修复求片中心样式问题
- 极致优化性能
- 更新邀请码注册天数未生效的问题
- 修复域名解析错误的问题
- emby用户不存在的时候也能成功禁用用户
- 用户管理界面重构
- 播放排行榜加载慢的问题
- 通知渠道页面重构
- 页面闪烁的问题
- 下拉框边框添加颜色
- 修复MoviePilot订阅集数的问题
- 修复海报上传失败的问题
- 修复重复提交的问题

## v2.3（2026-01-01）

### 新增 🆕
- 订阅影片（追剧必备）

### 优化 🛠️
- 优化性能
- 修复服务器下拉无法滚动的问题
- 解决弹窗闪烁的问题
- 用户详情页面优化
- 修复积分兑换配置 所需积分未传的问题

## v2.4（2026-01-09）

### 新增 🆕
- 新增服务器可用线路
- 添加展示各个服务器的用户数量
- 添加根据Playback Reporting插件获取播放记录（系统的算法获取播放记录已经非常完善了，这个插件只是另一种统计方式）
- 添加登录界面卡密注册和邀请链接的开关
- 求片中心订阅影片支持分页查询数据
- 添加海报入库标识

### 优化 🛠️
- 修改影院剧场搜索框样式
- 删除用户无法找到对应的服务器的问题
- 系统性能优化
- 排行榜推送的通知优化
- 添加主机地址添加服务器地址的校验
- 新增渠道未传默认值的问题
- 屏蔽设备关键词无法重复添加的问题

## v2.5（2026-01-17）

### 全新起航

- 这是一个一周年的纪念版 所有限制全部放开 更自由 更开放的管理系统 感谢大家的一路支持🎉

### 新增 🆕
- 添加tg登录（支持自定义开关）
- 添加消息推送助手（只支持ios设备）
- tg添加管理员续费
- tg添加用户积分续费
- 新增每月发放求片次数
- 用户登录存在多个服务器用户名相同的情况下 自动获取您的账号
- 添加集群创建用户（创建用户会集群创建在所有启用的服务器中）
- 添加多个管理员功能
- 上线桌面客户端（github有下载链接）

### 优化 🛠️
- 仪表盘页面优化
- 添加补偿机制 所有数据以系统为准（避免emby成功 系统回滚的问题）
- 放开用户名全局唯一的限制（用户名和服务器绑定）
- 修复同步用户因为用户名重复的问题 无法同步用户
- 修复用户管理多服务器用户统计的问题
- 用户管理页面用户统计改成网格布局
- tg机器人续费用户
- 邀请码注册支持求片次数
- 同时播放禁用只有启用的情况下才会生效
- 优化登录页面
- 支持无上限的服务器
- 总览页面全部数据支持服务器切换
- 影院剧场页面全部数据支持服务器切换

## v2.5.1（2026-01-17）

### 新增 🆕
- 新增统计图表（plus）

### 优化 🛠️
- 核心代码优化

## v2.5.2（2026-01-30）

### 新增 🆕
- 手机端 电脑端 支持pwa导出
- 添加播放区域统计世界地图 中国地图
- 添加影片预告功能
- 添加影片预告
- 添加播放排行页面
- 添加测速功能
- 添加分销功能（plus）
```shell
管理员可以设置任意用户为分销商 管理员A 分销商B B向A进货 获得一批卡密 使用卡密邀请用户获得相应的积分
积分可以兑换管理员设置的商品 积分可以兑换卡密 卡密你可以继续给你的客户 这样你就能得到任何你想要的 腐竹不需要管理服务器 躺着就能开服了
```

### 优化 🛠️
- 修复登录界面样式
- 修复图表信息显示问题
- 求片拒绝可以重新求片
- token默认过期改成10小时
- 程序主动释放数据库连接
- 重新设计的正在播放
- 用户管理页面统计组件优化
- 兑换配置页面返回所需积分字段

## v2.5.3（2026-02-13）

### 新增 🆕
- 正在播放支持多服务器
- 新增采撷菜单（自动化追剧下载 1.支持订阅自动追更 2.智能刮削 3.自动整理按照类型分类 4.支持订阅下载整理通知 5.支持画质和音质自定义订阅 6.支持刮削记录删除重新下载影片的）
- 添加系统日志

### 优化 🛠️
- 用户禁用后无法启用的问题
- 重新设计主菜单svg 主菜单子菜单跟随系统主题色
- 播放汇总页面优化
- 修复若干bug
- 优化整体样式
- 求片中心查询接口优化

## v2.5.4（2026-02-14）

### 新增 🆕
- 采撷支持多个站点订阅
- 采撷支持自定义标签过滤
- 重新设计的自定义推送图片
- 添加自定义发送消息图片的类型
- 添加启发式模糊匹配算法

### 优化 🛠️
- 采撷修复流式返回报错的问题
- 采撷匹配站点资源更精准
- 采撷多下载器删除的问题
- 采撷按照站点做种数倒序排序
- 采撷自动订阅不再降级返回整个页面结果
- 采撷手动搜索更精准匹配

## v2.5.5（2026-02-17）

### 新增 🆕
- 采撷添加刮削路径支持覆盖 画质 硬链接 并存等条件
- 采撷根据文件发送更人性化的通知
- 重新设计的刮削记录
- 刮削记录支持重新整理
- 搜索资源搜索框优化
- 新增分布式缓存

### 优化 🛠️
- 修复若干bug
- 豆瓣数据无法访问的问题
- 求片中心页面 订阅影片页面 搜索资源页面 全部采用分布式缓存 做到实时数据和入库状态更新 并且响应速度控制在10ms左右

## v2.5.6（2026-02-17）

### 新增 🆕
- 登录不会因为重启失效

### 优化 🛠️
- 登录接口接口改成并行
- redis添加自定义密码和库

## v2.5.7（2026-02-18）

### 新增 🆕

### 优化 🛠️
- 修复影院剧场切换服务器 无法筛选的问题
- 影院剧场页面发行商加载慢的问题
- 去掉头像相关配置
- 新增ipv6和ipv4的判断
- 修了微信扫码会话泄漏（浏览器实例回收）
- 修了播放卡片图片下载的并发堆积
- 修了PT搜索用公共线程池的问题
- 修了PT订阅用公共线程池的问题
- 系统配置页面支持分页